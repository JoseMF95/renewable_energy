[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Renewable Energy",
    "section": "",
    "text": "1 Introduction\nIn the face of an escalating climate crisis, the need to transition from fossil fuels to renewable energy has become a critical focus worldwide as technology advances throughout the year. Governments, industries, and individuals are seeking solutions to mitigate climate change by reshaping energy generation patterns and reducing carbon emissions. As a result, understanding the progression, effectiveness, and pace of this energy transition has become more and more important. We are interested in learning how this solution was implemented over the years. In our final project, we will dive deeper to explore these dynamics.\nOur project will explore the status and pace of the global renewable energy transition. We aim to clarify our progress in reducing fossil fuel reliance and carbon emissions. By analyzing energy generation patterns, we can evaluate the effectiveness of global and regional policies in promoting renewables and curbing greenhouse gas emissions. This information can be used by policymakers to implement more effective and targeted carbon reduction policies. Some key questions we are trying to answer are:\n\nAre there any changes with energy generation patterns throughout the years?\nWhat is the main renewable energy that we are transitioning into right now?\nAre there any difference in transitioning pace between different countries?\nIs there any reduction in fossil fuel/carbon emissions globally or within different countries(territorial emissions)?\nHow does investment in renewable energy vary across regions/countries?\nWhich emerging renewable energy technologies show the most promise for widespread adoption?\nIs the growth in renewable energy generation keeping pace with the growth in overall energy demand?\n\nTo achieve this, we utilize a diverse range of datasets from the International Renewable Energy Agency (IRENA) and Global Carbon Project (GCP). We will analyze historical and regional energy statistics, financing data for renewable projects, and emissions statistics. These datasets enable us to assess the historical progression of energy generation technologies, determine which renewable energy sources are expanding the fastest, and analyze regional differences in the speed and nature of the transition to renewable energy.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "2  Data",
    "section": "",
    "text": "2.1 Description\nThe data is collected by the international renewable energy agency IRENA from its member countries. IRENA is an intergovernmental organization that exists to support countries with their transition to using sustainable energy. There are currently 169 member countries and the EU. IRENA is able to collect their data through their questionnaire for these member countries. In addition, desk research is also conducted to complement the questionnaire to provide a comprehensive report. IRENA updates its database annually.\nThere is a data query on the IRENA website for us to look at data related to heat generation or electricity generation in general. There is also data that looks at sustainable energy as a percentage of overall energy generation of all the member countries. We are able to select these data through a data query on the IRENA website. The data query allows us to download data directly in excel or csv format. To import the data, we will download the data as a csv file and load it in to R with read.csv() function. The data is in wide format that is sorted by countries, then by different groups of indicators (% wind generation, etc.), and finally by yearly data (this is consistent across the data we found using the data query). It has data starting from the 2000s to 2023 (previous year).\nThe data is collected by the Global Carbon Project. The GCP is an international research project that aims to understand patterns and interactions connected to Global Carbon emissions. They are able to collect their data by working with different institutions and consolidating their observations. The data should be updated yearly to the previous year we are currently on eg. (2023 as we are in 2024 right now). However, this data is not available yet, so it might be a potential problem when we perform our data analysis. In addition, there are also a few countries that doesn’t have any data which we will have to deal with.\nWe are able to download data directly on the global carbon budget website. The data contains information on global carbon emissions data as well as emissions of fossil fuels globally. The website allows us to download the information as an excel sheet. We can use the read.xlsx() function to read in and process these excel files into R. The data is sorted by years with data information situated on top of the actual data. There is also territorial emissions data by country. There are also multiple sheets within an excel file we decided to use only one in each excel file as it is most relevant to our analysis.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#missing-value-analysis",
    "href": "data.html#missing-value-analysis",
    "title": "2  Data",
    "section": "2.2 Missing value analysis",
    "text": "2.2 Missing value analysis\n\n2.2.1 Global Carbon Project Data\n\n\nCode\nlibrary(readxl)\nlibrary(redav)\n\n\nLoading required package: ggplot2\n\n\n\n\nCode\ndf_globalcarbon &lt;- read_excel(\"./raw_data/Global_Carbon_Budget_2022v1.0.xlsx\",\n                              sheet = 2,\n                              skip = 20)\n\n\n\n\nCode\nplot_missing(df_globalcarbon, percent = FALSE)\n\n\n\n\n\n\n\n\n\nThe Global Carbon Data denotes the overall fossil fuel emissions globally. There are no missing values as shown colSums of NA values (0 missing values in each of the columns).\n\n\nCode\ndf_territorialemissions &lt;- read_excel(\"./raw_data/National_Fossil_Carbon_Emissions_2022v1.0.xlsx\",\n                              sheet = 2,\n                              skip = 11)\n\n\nNew names:\n• `` -&gt; `...1`\n\n\n\n\nCode\nplot_missing(df_territorialemissions, percent = FALSE)\n\n\n\n\n\n\n\n\n\nThere are quite a lot of missing values. As these emission data is by year, we tried to filter by year to see how much data is left. The number of years that are missing in data is different for each country.\n\n\n2.2.2 Electricity statistics (MW/GWh) by Region, Technology, Data Type and Year\n\n\nCode\n# load libraries\nlibrary(tidyverse)\nlibrary(data.table)\n\n# read raw file\ndf_electstats_region &lt;- read_csv(\n  \"./raw_data/irena_electstats_region.csv\"\n)\n\nattr(df_electstats_region, 'spec') &lt;- NULL\n\n\n\n\nCode\n# electricity statistics column is saved as character. \n# in particular, some rows have value equal \"-\", we label them as NA \n# convert electricity statistics to numeric\ndf_electstats_region &lt;- df_electstats_region |&gt; \n  mutate(\n    across(\n      starts_with('Elec'),\n      ~ifelse(.x=='-',NA,.x)\n    )\n  ) |&gt; \n  mutate(\n    across(\n      starts_with('Elec'),\n      as.numeric\n    )\n  ) \n\n\nLet’s review the proportion of NAs by column:\n\n\nCode\n# review proportion of NAs per column: global\ndf_electstats_region|&gt; \n  summarise(\n    across(\n      everything(),\n      ~sum(ifelse(is.na(.x),1,0))\n    ),\n    n=n()\n  ) |&gt; \n  pivot_longer(\n    cols=-n,\n    names_to = 'variable',\n    values_to = 'n_na'\n  ) |&gt; \n  mutate(prop_na=n_na/n) |&gt; \n  data.table()\n\n\n       n               variable  n_na   prop_na\n   &lt;int&gt;                 &lt;char&gt; &lt;num&gt;     &lt;num&gt;\n1:  5760                 Region     0 0.0000000\n2:  5760             Technology     0 0.0000000\n3:  5760              Data Type     0 0.0000000\n4:  5760                   Year     0 0.0000000\n5:  5760 Electricity statistics   619 0.1074653\n\n\nOnly Electricity statistics column presents NAs, less than 11% of the total observations.\nLet’s review the pattern by Year\n\n\nCode\n# review proportion of NAs by Year\ndf_electstats_region_year &lt;- df_electstats_region |&gt; \n  group_by(Year) |&gt; \n  summarise(\n    n = n(),\n    n_country = n_distinct(`Region`),\n    across(\n      starts_with('Elect'),\n      ~sum(ifelse(is.na(.x),1,0))\n    )\n  ) |&gt;\n  rename(n_na=starts_with('Elect')) |&gt; \n  mutate(prop_na=n_na/n)\n\n# graph share of NAs in Electric Statistics per Year\ndf_electstats_region_year |&gt; \n  ggplot(aes(x=Year,y=prop_na)) +\n  geom_line() +\n  theme_bw() +\n  ggtitle('% NAs in Electricity Statistics per Year') +\n  scale_y_continuous('% NAs',labels=scales::percent_format())\n\n\n\n\n\n\n\n\n\nIn general, we observe a downtrend across years but year 2023 where there’s a big jump.\nLet’s assess whether % of NAs depend on which Technology is measured\n\n\nCode\n# review proportion of NAs by Year and Technology\ndf_electstats_region_year_tec &lt;- df_electstats_region |&gt; \n  group_by(Year,Technology) |&gt; \n  summarise(\n    n = n(),\n    across(\n      starts_with('Elect'),\n      ~sum(ifelse(is.na(.x),1,0))\n    )\n  ) |&gt;\n  rename(n_na=starts_with('Elect')) |&gt; \n  mutate(prop_na=n_na/n)\n\n\n`summarise()` has grouped output by 'Year'. You can override using the\n`.groups` argument.\n\n\nCode\n#  % share of NAs per by Year and Technology\ndf_electstats_region_year_tec |&gt; \n  mutate(Year=factor(Year)) |&gt; \n  ggplot(aes(x=Technology,y=Year,fill=prop_na)) +\n  geom_tile() +\n  scale_fill_gradient2(\n    \"% of NAs\",\n    low='green',\n    mid='white',\n    high='orange',\n    midpoint = 0.5,\n    labels=scales::percent_format()\n  ) +\n  theme_bw() +\n  ggtitle('% NAs in Electricity Statistics\\nper Year and Technology') +\n  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))\n\n\n\n\n\n\n\n\n\nMost Technologies have 0% of NAs.Geothermal, Other non-renewable and Pumped Store have around 15% of NAs. Marine and Nuclear has the most share of NAs with over 25%.\nLet’s analyze regions, could some regions more prone to missing values?\n\n\nCode\n# review proportion of NAs by Year and Region\ndf_electstats_region_year_r &lt;- df_electstats_region |&gt; \n  group_by(Year,Region) |&gt; \n  summarise(\n    n = n(),\n    across(\n      starts_with('Elect'),\n      ~sum(ifelse(is.na(.x),1,0))\n    )\n  ) |&gt;\n  rename(n_na=starts_with('Elect')) |&gt; \n  mutate(prop_na=n_na/n) |&gt; \n  mutate(Region = case_when(\n    str_detect(Region,'Central') ~ 'Central America',\n    TRUE ~ Region\n  ))\n\n\n`summarise()` has grouped output by 'Year'. You can override using the\n`.groups` argument.\n\n\nCode\n# graph % NA per Year and Country\ndf_electstats_region_year_r |&gt; \n  ggplot(aes(\n    x=Year,\n    y=prop_na,\n    col=Region))+\n  geom_line(position = position_jitter()) +\n  theme_bw() +\n  ggtitle('% NAs in Electricity Statistics per Year and Region') +\n  scale_y_continuous('% NAs',labels=scales::percent_format()) +\n  scale_color_discrete(breaks=~.x[!is.na(.x)]) +\n  theme(legend.position=\"bottom\")\n\n\n\n\n\n\n\n\n\nIn the first years, Middle East is the region with most NAs (&lt;40%). Around 2014 we see an improvement for this region. We add jitter to observe the pattern for regions with least share of missing values. In particular Asia, Europe, Eurasia and North America have small shares of NAs (&lt;5%).\nAgain, we assess some type of issue with data on 2023 due to an increase of shares of missing values.\n\n\n2.2.3 Electricity statistics (MW/GWh) by Country/area, Technology, Data Type, Grid connection and Year\n\n\nCode\n# read data\ndf_electstats_country &lt;- read_csv(\n  \"./raw_data/irena_electstats_country.csv\"\n)\n\nattr(df_electstats_country, 'spec') &lt;- NULL\n\n\n\n\nCode\n# electricity statistics column is saved as character. \n# in particular, some rows have value equal \"-\", we label them as NA \n# convert electricity statistics to numeric\ndf_electstats_country &lt;- df_electstats_country |&gt; \n  mutate(\n    across(\n      starts_with('Elec'),\n      ~ifelse(.x=='-',NA,.x)\n    )\n  ) |&gt; \n  mutate(\n    across(\n      starts_with('Elec'),\n      as.numeric\n      )\n  )\n\n\nLet’s review the proportion of NAs by column:\n\n\nCode\n# review proportion of NAs per column: global\ndf_electstats_country |&gt; \n  summarise(\n    across(\n      everything(),\n      ~sum(ifelse(is.na(.x),1,0))\n    ),\n    n=n()\n  ) |&gt; \n  pivot_longer(\n    cols=-n,\n    names_to = 'variable',\n    values_to = 'n_na'\n  ) |&gt; \n  mutate(prop_na=n_na/n) |&gt; \n  data.table()\n\n\n        n                        variable   n_na   prop_na\n    &lt;int&gt;                          &lt;char&gt;  &lt;num&gt;     &lt;num&gt;\n1: 677376                    Country/area      0 0.0000000\n2: 677376                      Technology      0 0.0000000\n3: 677376                       Data Type      0 0.0000000\n4: 677376                 Grid connection      0 0.0000000\n5: 677376                            Year      0 0.0000000\n6: 677376 Electricity statistics (MW/GWh) 508183 0.7502229\n\n\nOnly Electricity statistics column presents NAs, around 75% of the total observations.\nLet’s review the pattern by Year\n\n\nCode\n# review proportion of NAs by Year\ndf_electstats_country_year &lt;- df_electstats_country |&gt; \n  group_by(Year) |&gt; \n  summarise(\n    n = n(),\n    n_country = n_distinct(`Country/area`),\n    across(\n      starts_with('Elect'),\n      ~sum(ifelse(is.na(.x),1,0))\n    )\n  ) |&gt;\n  rename(n_na=starts_with('Elect')) |&gt; \n  mutate(prop_na=n_na/n)\n\n# graph share of NAs in Electric Statistics per Year\ndf_electstats_country_year |&gt; \n  ggplot(aes(x=Year,y=prop_na)) +\n  geom_line() +\n  theme_bw() +\n  ggtitle('% NAs in Electricity Statistics per Year') +\n  scale_y_continuous('% NAs',labels=scales::percent_format())\n\n\n\n\n\n\n\n\n\nThe share of missing values present a downtrend but on year 2023 there’s a sudden jump up to 85%.\nLet’s assess whether % of NAs depend on which Technology is measured\n\n\nCode\n# review proportion of NAs per by Year and Technology\ndf_electstats_country_year_tec &lt;- df_electstats_country |&gt; \n  group_by(Year,Technology) |&gt; \n  summarise(\n    n = n(),\n    across(\n      starts_with('Elect'),\n      ~sum(ifelse(is.na(.x),1,0))\n    )\n  ) |&gt;\n  rename(n_na=starts_with('Elect')) |&gt; \n  mutate(prop_na=n_na/n)\n\n\n`summarise()` has grouped output by 'Year'. You can override using the\n`.groups` argument.\n\n\nCode\n#  % share of NAs per by Year and Technology\ndf_electstats_country_year_tec |&gt; \n  mutate(Year=factor(Year)) |&gt; \n  ggplot(aes(x=Technology,y=Year,fill=prop_na)) +\n  geom_tile() +\n  scale_fill_gradient2(\n    \"% of NAs\",\n    low='green',\n    mid='white',\n    high='orange',\n    midpoint = 0.5,\n    labels=scales::percent_format()\n  ) +\n  theme_bw() +\n  ggtitle(paste0(\n  '% NAs in Electricity Statistics',\n  ' per Year and Technology')\n  ) +\n  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))\n\n\n\n\n\n\n\n\n\nFor most Technologies we have big shares of missing values (&gt;50%). For Solar energy we the share decreases across time. Just for Oil and aggregated values such as Total Non-Renewable and Total Renewable the share of NAs is below 50% consistently.\nLet’s analyze for grid connection\n\n\nCode\n# review proportion of NAs per by Year and Grid connection\ndf_electstats_country_year_grid &lt;- df_electstats_country |&gt; \n  group_by(Year,`Grid connection`) |&gt; \n  summarise(\n    n = n(),\n    across(\n      starts_with('Elect'),\n      ~sum(ifelse(is.na(.x),1,0))\n    )\n  ) |&gt;\n  rename(n_na=starts_with('Elect')) |&gt; \n  mutate(prop_na=n_na/n) \n\n\n`summarise()` has grouped output by 'Year'. You can override using the\n`.groups` argument.\n\n\nCode\n#  % share of NAs per by Year and Grid connection\ndf_electstats_country_year_grid |&gt; \n  mutate(Year=factor(Year)) |&gt; \n  ggplot(aes(x=`Grid connection`,y=Year,fill=prop_na)) +\n  geom_tile() +\n  scale_fill_gradient2(\n    \"% of NAs\",\n    low='green',\n    mid='white',\n    high='orange',\n    midpoint = 0.5,\n    labels=scales::percent_format()\n  ) +\n  theme_bw() +\n  ggtitle(paste0(\n    '% NAs in Electricity Statistics',\n    ' per Year and Grid Connection')\n    ) +\n  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))\n\n\n\n\n\n\n\n\n\nRegardless of the grid connection the share of missing value is high (&gt;60%)\nFor which countries do we have most data?\n\n\nCode\n# review proportion of NAs per by Year and Country\ndf_electstats_country_year_country &lt;- df_electstats_country |&gt; \n  group_by(Year,`Country/area`) |&gt; \n  summarise(\n    n = n(),\n    across(\n      starts_with('Elect'),\n      ~sum(ifelse(is.na(.x),1,0))\n    )\n  ) |&gt;\n  rename(n_na=starts_with('Elect')) |&gt; \n  mutate(prop_na=n_na/n) |&gt; \n  mutate(Country=ifelse(prop_na&lt;0.5,`Country/area`,NA)) |&gt; \n  mutate(Country = str_remove_all(Country,'\\\\(the\\\\)'))  |&gt; \n  mutate(Country = case_when(\n    str_detect(Country,'United Kingdom') ~ 'UK',\n    str_detect(Country,'United States') ~ 'US',\n    str_detect(Country,'Korea') ~ 'South Korea',\n    str_detect(Country,'Viet Nam') ~ 'Vietnam',\n    TRUE ~ Country\n  ))\n\n\n`summarise()` has grouped output by 'Year'. You can override using the\n`.groups` argument.\n\n\nCode\n# graph % NA per Year and Country\n# color countries with %NAs &lt; 50%\ndf_electstats_country_year_country |&gt; \n  ggplot(aes(\n    x=Year,\n    y=prop_na,\n    group=`Country/area`,\n    col=Country))+\n  geom_line(position=position_jitter()) +\n  theme_bw() +\n  ggtitle('% NAs in Electricity Statistics per Year and Country') +\n  scale_y_continuous('% NAs',labels=scales::percent_format()) +\n  scale_color_discrete(breaks=~.x[!is.na(.x)]) +\n  theme(legend.position=\"bottom\")\n\n\n\n\n\n\n\n\n\nHighlighting countries which share of NAs is less than 50% only 12 met this criteria out of 200+ countries.\n\n\n2.2.4 Renewable energy share of electricity capacity and generation (%) by Region/country/area, Indicator and Year\n\n\nCode\n# read data\ndf_share &lt;- read_csv(\n  \"./raw_data/irena_share.csv\"\n)\n\nattr(df_share, 'spec') &lt;- NULL \n\n\n\n\nCode\n# column is saved as character. \n# in particular, some rows have value equal \"-\", we label them as NA \n# convert renewable column to numeric\n# divide pct by 100\n# includes region and country/area.\n# Let's split data an analyze separately\ndf_share &lt;- df_share|&gt; \n  mutate(\n    across(\n      starts_with('Renewable'),\n      ~ifelse(.x=='-',NA,.x)\n    )\n  ) |&gt; \n  mutate(\n    across(\n      starts_with('Renewable'),\n      as.numeric\n    )\n  ) |&gt; \n  mutate(\n    across(\n      starts_with('Renewable'),\n      ~.x/100\n    )\n  )\n\n# has countries and regions together split \nc_names &lt;- df_share$`Region/country/area` |&gt; \n  unique()\n\n# by region\ndf_share_region &lt;- df_share |&gt; \n  rename(Region=`Region/country/area`) |&gt; \n  filter(Region %in% c_names[1:10])\n\n# review proportion of NAs per column: global\ndf_share_region |&gt; \n  summarise(\n    across(\n      everything(),\n      ~sum(ifelse(is.na(.x),1,0))\n    ),\n    n=n()\n  ) |&gt; \n  pivot_longer(\n    cols=-n,\n    names_to = 'variable',\n    values_to = 'n_na'\n  ) |&gt; \n  mutate(prop_na=n_na/n) |&gt; \n  data.table()\n\n\n       n                                                          variable\n   &lt;int&gt;                                                            &lt;char&gt;\n1:   480                                                            Region\n2:   480                                                         Indicator\n3:   480                                                              Year\n4:   480 Renewable energy share of electricity capacity and generation (%)\n    n_na    prop_na\n   &lt;num&gt;      &lt;num&gt;\n1:     0 0.00000000\n2:     0 0.00000000\n3:     0 0.00000000\n4:    10 0.02083333\n\n\nIn this case just 2.3% of data is missing. Let’s review the pattern if we group by Year\n\n\nCode\n# review proportion of NAs by Year\ndf_share_region_year &lt;- df_share_region |&gt; \n  group_by(Year) |&gt; \n  summarise(\n    n = n(),\n    n_country = n_distinct(Region),\n    across(\n      starts_with('Renewable'),\n      ~sum(ifelse(is.na(.x),1,0))\n    )\n  ) |&gt;\n  rename(n_na=starts_with('Renewable')) |&gt; \n  mutate(prop_na=n_na/n)\n\n# graph share of NAs in Renewable per Year\ndf_share_region_year |&gt; \n  ggplot(aes(x=Year,y=prop_na)) +\n  geom_line() +\n  theme_bw() +\n  ggtitle(paste0(\n    '% NAs in Renewable energy share of',\n    ' electricity capacity \\nand generation per Year')) +\n  scale_y_continuous('% NAs',labels=scales::percent_format())\n\n\n\n\n\n\n\n\n\nIn this case this 2.3% is explained due to 2023 not having any value for this dataset. Hence if we exclude this year our data at a regional level has no missing values.\nLet’s assess our data at a country-level\n\n\nCode\n# at position 11 starts countries\ndf_share_country &lt;- df_share |&gt; \n  rename(`Country/area`=`Region/country/area`) |&gt; \n  filter(`Country/area` %in% c_names[11:length(c_names)])\n\n# review proportion of NAs per column: global\ndf_share_country |&gt; \n  summarise(\n    across(\n      everything(),\n      ~sum(ifelse(is.na(.x),1,0))\n    ),\n    n=n()\n  ) |&gt; \n  pivot_longer(\n    cols=-n,\n    names_to = 'variable',\n    values_to = 'n_na'\n  ) |&gt; \n  mutate(prop_na=n_na/n) |&gt; \n  data.table()\n\n\n       n                                                          variable\n   &lt;int&gt;                                                            &lt;char&gt;\n1: 10704                                                      Country/area\n2: 10704                                                         Indicator\n3: 10704                                                              Year\n4: 10704 Renewable energy share of electricity capacity and generation (%)\n    n_na    prop_na\n   &lt;num&gt;      &lt;num&gt;\n1:     0 0.00000000\n2:     0 0.00000000\n3:     0 0.00000000\n4:  1051 0.09818759\n\n\nIn this case, the data set have ~10% of missing values\nAgain, let’s review whether this is explained just by Year\n\n\nCode\n# review proportion of NAs group by Year\ndf_share_country_year &lt;- df_share_country |&gt; \n  group_by(Year) |&gt; \n  summarise(\n    n = n(),\n    n_country = n_distinct(`Country/area`),\n    across(\n      starts_with('Renewable'),\n      ~sum(ifelse(is.na(.x),1,0))\n    )\n  ) |&gt;\n  rename(n_na=starts_with('Renewable')) |&gt; \n  mutate(prop_na=n_na/n)\n\n# graph share of NAs in Electric Statistics per Year\ndf_share_country_year |&gt; \n  ggplot(aes(x=Year,y=prop_na)) +\n  geom_line() +\n  theme_bw() +\n  ggtitle(paste0(\n    '% NAs in Renewable energy share of',\n    ' electricity capacity \\nand generation per Year')) +\n  scale_y_continuous('% NAs',labels=scales::percent_format())\n\n\n\n\n\n\n\n\n\nIn this case there are missing values in different years with a downtrend and a spike on 2023.\nLet’s assess how missing values are with Year and Indicator column\n\n\nCode\n# review proportion of NAs per by Year and Indicator\ndf_share_country_year_ind &lt;- df_share_country |&gt; \n  group_by(Year,Indicator) |&gt; \n  summarise(\n    n = n(),\n    across(\n      starts_with('Renewable'),\n      ~sum(ifelse(is.na(.x),1,0))\n    )\n  ) |&gt;\n  rename(n_na=starts_with('Renewable')) |&gt; \n  mutate(prop_na=n_na/n)\n\n\n`summarise()` has grouped output by 'Year'. You can override using the\n`.groups` argument.\n\n\nCode\n#  % share of NAs per by Year and Indicator\ndf_share_country_year_ind |&gt; \n  mutate(Year=factor(Year)) |&gt; \n  ggplot(aes(x=Indicator,y=Year,fill=prop_na)) +\n  geom_tile() +\n  scale_fill_gradient2(\n    \"% of NAs\",\n    low='green',\n    mid='white',\n    high='orange',\n    midpoint = 0.5,\n    labels=scales::percent_format()\n  ) +\n  theme_bw() +\n  ggtitle(paste0(\n    '% NAs in Renewable energy share of electricity capacity',\n    ' \\nand generation per Year and Indicator')) +\n  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))\n\n\n\n\n\n\n\n\n\nAside from 2023, missing value share for Indicator is below ~25% across time.\nAfter seeing this we would expect a lot of countries to have values in the metric of interest. Let’s visualize how the share of countries that have less than a certain threshold of missing values.\n\n\nCode\n# review proportion of NAs per by Year and Country\ndf_share_country_year_c &lt;- df_share_country |&gt; \n  group_by(Year,`Country/area`) |&gt; \n  summarise(\n    n = n(),\n    across(\n      starts_with('Renewable'),\n      ~sum(ifelse(is.na(.x),1,0))\n    )\n  ) |&gt;\n  rename(n_na=starts_with('Renewable')) |&gt; \n  mutate(prop_na=n_na/n) |&gt; \n  mutate(flag=ifelse(prop_na&lt;0.5,1,0)) |&gt; \n  group_by(Year) |&gt; \n  summarise(less_50_na=sum(flag)/n())\n\n\n`summarise()` has grouped output by 'Year'. You can override using the\n`.groups` argument.\n\n\nCode\n# share of countries that meet criteria\ndf_share_country_year_c  |&gt; \n  ggplot(aes(\n    x=Year,\n    y=less_50_na))+\n  geom_line() +\n  theme_bw() +\n  ggtitle(paste0(\n    '% of countries with less than 50% of NAs',\n    ' in Renewable energy share of \\nelectricity capacity',\n    ' and generation per Year')\n    ) +\n  scale_y_continuous('% NAs',labels=scales::percent_format()) \n\n\n\n\n\n\n\n\n\nFor this particular dataset from the 200+ countries above 75% of them have less than 50% of missing values. Unlike the first dataset we can do an analysis at region as well at country-level.\n\n\n2.2.5 Public Investments (2021 million USD) by Country/area, Technology and Year\n\n\nCode\n# read data\ndf_finance &lt;- read_csv(\n  \"./raw_data/irena_finance.csv\"\n)\n\nattr(df_finance, 'spec') &lt;- NULL\n\n\nLet’s analyze whether this dataset has missing values or not.\n\n\nCode\n# review proportion of NAs per column: global\ndf_finance |&gt; \n  summarise(\n    across(\n      everything(),\n      ~sum(ifelse(is.na(.x),1,0))\n    ),\n    n=n()\n  ) |&gt; \n  pivot_longer(\n    cols=-n,\n    names_to = 'variable',\n    values_to = 'n_na'\n  ) |&gt; \n  mutate(prop_na=n_na/n) |&gt; \n  data.table()\n\n\n       n                              variable  n_na prop_na\n   &lt;int&gt;                                &lt;char&gt; &lt;num&gt;   &lt;num&gt;\n1: 98532                          Country/area     0       0\n2: 98532                            Technology     0       0\n3: 98532                                  Year     0       0\n4: 98532 Public Investments (2021 million USD)     0       0\n\n\nFor finance data it looks like no missing values are reported.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#description",
    "href": "data.html#description",
    "title": "2  Data",
    "section": "",
    "text": "International Renewable Energy Agency (IRENA) Link: https://www.irena.org/Data/Downloads/IRENASTAT (link to IRENA data query tool)\n\n\n\n\nGlobal Carbon Project (GCP) Link: https://www.icos-cp.eu/science-and-impact/global-carbon-budget/2022",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  }
]